(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/message/message_read/message_read"],{"3c83":function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(s("98fb"));function n(e){return e&&e.__esModule?e:{default:e}}var o=function(){return s.e("components/uni-popup/uni-popup").then(s.bind(null,"d187"))},u=function(){return s.e("components/uni-list/uni-list").then(s.bind(null,"8c6a"))},r=function(){return s.e("components/uni-list-item/uni-list-item").then(s.bind(null,"c046"))};function i(t){var s=1;t.message_list=[];for(var n=1;n<=s;n++)e.request({url:a.default+"/message?to_user_id="+t.user_id+"&status=read&page="+n,header:{Authorization:"Bearer "+t.token},method:"GET",success:function(a){console.log(a," at pages\\message\\message_read\\message_read.vue:38"),200==a.statusCode?0!=a.data.total?(s=Math.ceil(a.data.total/a.data.per_page),t.message_list.push.apply(t.message_list,a.data.data)):(e.showToast({title:"无未读信息",icon:"none",duration:2e3}),console.log("无未读信息"," at pages\\message\\message_read\\message_read.vue:50")):204==a.statusCode?console.log("无系统通知信息"," at pages\\message\\message_read\\message_read.vue:53"):console.log("系统通知信息获取失败"," at pages\\message\\message_read\\message_read.vue:55")}})}var c={components:{uniPopup:o,uniList:u,uniListItem:r},data:function(){return{userName:"",token:"",user_id:0,isShowPopup:!1,message_content:"",message_title:"",message_from:"",message_list:[]}},onLoad:function(){this.token=e.getStorageSync("token"),this.userName=e.getStorageSync("userName"),this.user_id=e.getStorageSync("user_id");var t=this;i(t)},onPullDownRefresh:function(){console.log("refresh"," at pages\\message\\message_read\\message_read.vue:103");var t=this;i(t),setTimeout(function(){e.stopPullDownRefresh()},1e3)},methods:{showMessage:function(t){var s=this;console.log(t," at pages\\message\\message_read\\message_read.vue:112");var n=t.currentTarget.dataset.one;this.message_title="test title",this.message_from="tom",this.message_content=n+"test contenttest contenttest contenttest contenttest contenttest content",e.request({url:a.default+"/message/"+n,method:"GET",header:{Authorization:"Bearer "+this.token},success:function(e){console.log(e," at pages\\message\\message_read\\message_read.vue:124"),s.message_title=e.data.data.title,s.message_from=e.data.data.from.name,s.message_content=e.data.data.content},fail:function(){console.log(查询失败," at pages\\message\\message_read\\message_read.vue:130")}}),this.isShowPopup=!0},closeMessage:function(){this.isShowPopup=!1}}};t.default=c}).call(this,s("6e42")["default"])},"49fb":function(e,t,s){"use strict";s.r(t);var a=s("3c83"),n=s.n(a);for(var o in a)"default"!==o&&function(e){s.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},"4cda":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},n=[];s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n})},7647:function(e,t,s){},"876b":function(e,t,s){"use strict";s.r(t);var a=s("4cda"),n=s("49fb");for(var o in n)"default"!==o&&function(e){s.d(t,e,function(){return n[e]})}(o);s("9114");var u=s("2877"),r=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,null,null);t["default"]=r.exports},9114:function(e,t,s){"use strict";var a=s("7647"),n=s.n(a);n.a}},[["ba83","common/runtime","common/vendor"]]]);