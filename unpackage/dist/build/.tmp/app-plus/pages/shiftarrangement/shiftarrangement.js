(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shiftarrangement/shiftarrangement"],{1711:function(t,e,a){"use strict";a.r(e);var n=a("7254"),r=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=r.a},3644:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},r=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r})},"6ad5":function(t,e,a){"use strict";a.r(e);var n=a("3644"),r=a("1711");for(var s in r)"default"!==s&&function(t){a.d(e,t,function(){return r[t]})}(s);a("7c27");var o=a("2877"),i=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,null,null);e["default"]=i.exports},7254:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("98fb"));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){return Promise.all([a.e("common/vendor"),a.e("components/uni-calendar/uni-calendar")]).then(a.bind(null,"96ff"))},o=function(){return a.e("components/uni-popup/uni-popup").then(a.bind(null,"d187"))},i={components:{uniCalendar:s,uniPopup:o},data:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"object"!==typeof t&&(t=t.replace(/-/g,"/"));var a=new Date(t);a.setMonth(a.getMonth()+e);var n=a.getFullYear(),r=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,s=a.getDate()<10?"0"+a.getDate():a.getDate();return n+"-"+r+"-"+s}var e=[{id:0,name:"农历",checked:!1,attr:"lunar"},{id:1,name:"固定高度",checked:!1,attr:"fixedHeihgt"},{id:2,name:"垂直滚动",checked:!1,attr:"vertical"},{id:3,name:"水平滚动",checked:!1,attr:"horizontal"},{id:4,name:"开始日期("+t(new Date,-1)+")",checked:!1,value:t(new Date,-1),attr:"startDate"},{id:5,name:"结束日期("+t(new Date,2)+")",value:t(new Date,2),checked:!1,attr:"endDate"},{id:6,name:"禁用今天之前的日期",checked:!1,attr:"disableBefore"},{id:7,name:"自定义当前日期("+t(new Date,1)+")",value:t(new Date,1),checked:!1,attr:"date"}];return{userName:"",token:"",user_id:"",list:[],data:[],popUp:"false",show:!0,tags:e,slide:"none",date:"",startDate:"",endDate:"",timeData:{}}},onLoad:function(){var e=this;this.token=t.getStorageSync("token"),this.userName=t.getStorageSync("userName"),this.user_id=t.getStorageSync("user_id");var a=1;this.data=[];for(var r=1;r<=a;r++)t.request({url:n.default+"/shift?user_id="+this.user_id+"&page="+r,header:{Authorization:"Bearer "+this.token},method:"GET",success:function(n){console.log(n," at pages\\shiftarrangement\\shiftarrangement.vue:153"),200==n.statusCode?0!=n.data.total?(a=Math.ceil(n.data.total/n.data.per_page),e.data.push.apply(e.data,n.data.data),console.log("request success"," at pages\\shiftarrangement\\shiftarrangement.vue:159")):(t.showToast({title:"无排班信息",icon:"none",duration:2e3}),console.log("无排班信息"," at pages\\shiftarrangement\\shiftarrangement.vue:166")):204==n.statusCode?console.log("无排班信息"," at pages\\shiftarrangement\\shiftarrangement.vue:169"):console.log("排班信息获取失败"," at pages\\shiftarrangement\\shiftarrangement.vue:171")}})},methods:{closeMask:function(){this.show=!1},change:function(t){console.log("change 返回:",t.fulldate," at pages\\shiftarrangement\\shiftarrangement.vue:182"),this.timeData=t},toClick:function(t){for(var e in this.list=[],console.log("点击事件",t.fulldate," at pages\\shiftarrangement\\shiftarrangement.vue:187"),this.popUp="true",this.data){var a=this.data[e],n=new Date(t.year+"/"+t.month+"/"+t.date);if(new Date(a.start_at).toDateString()==n.toDateString()){var r={type:"normal"==a.type?"正常排班":"全体加班",start_at:new Date(a.start_at).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai",hour12:!1}),end_at:new Date(a.end_at).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai",hour12:!1}),status:""};"no"==a.status?r.status="未签到":"on"==a.status?r.status="已签到":"off"==a.status?r.status="已签退":"leave"==a.status?r.status="请假":r.status=a.status,console.log(r," at pages\\shiftarrangement\\shiftarrangement.vue:218"),this.list.push(r)}}this.timeData=t},confirm:function(){this.show=!1},togglePopup:function(t){this.popUp=t}}};e.default=i}).call(this,a("6e42")["default"])},"7a83":function(t,e,a){},"7c27":function(t,e,a){"use strict";var n=a("7a83"),r=a.n(n);r.a}},[["e982","common/runtime","common/vendor"]]]);