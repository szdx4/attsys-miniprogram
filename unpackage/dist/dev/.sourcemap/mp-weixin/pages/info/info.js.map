{"version":3,"sources":["webpack:///D:/HBuilderX/attsys-miniprogram/pages/info/info.vue","webpack:///D:/HBuilderX/attsys-miniprogram/pages/info/info.vue?eb48","webpack:///D:/HBuilderX/attsys-miniprogram/pages/info/info.vue?8cad","webpack:///D:/HBuilderX/attsys-miniprogram/pages/info/info.vue?fe46","webpack:///D:/HBuilderX/attsys-miniprogram/pages/info/info.vue?7f4d","webpack:///D:/HBuilderX/attsys-miniprogram/pages/info/info.vue?3293","webpack:///D:/HBuilderX/attsys-miniprogram/pages/info/info.vue?6628"],"names":["components","uniPopup","mInput","data","userName","token","user_id","name","department","role","hours","imgSrc","imgSrcOld","isChanged","isShowPopup","oldpwd","newpwd_1","newpwd_2","onLoad","uni","getStorageSync","request","url","webSiteUrl","header","method","success","res","statusCode","console","log","status","info","methods","chooseImg","e","chooseImage","count","sizeType","chooseImageRes","saveFile","tempFilePath","tempFilePaths","saveRes","savedFilePath","submit","img_base64","getFileSystemManager","readFile","filePath","encoding","encodeRes","uploadRes","showToast","duration","title","fail","errmsg","showPanel","closePanel","clear","changePwd","length","old_password","new_password","clearStorageSync","redirectTo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA,4J,8FAhEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;kkBAMe,EACdA,UAAU,EAAE,EACXC,QAAQ,EAARA,QADW,EAEXC,MAAM,EAANA,MAFW,EADE,EAKdC,IALc,kBAKP,CACN,OAAO,EACNC,QAAQ,EAAE,EADJ,EAENC,KAAK,EAAC,EAFA,EAGNC,OAAO,EAAC,CAHF,EAINC,IAAI,EAAC,MAJC,EAKNC,UAAU,EAAC,CALL,EAMNC,IAAI,EAAC,MANC,EAONC,KAAK,EAAC,EAPA,EAQNC,MAAM,EAAC,EARD,EASNC,SAAS,EAAC,EATJ,EAUNC,SAAS,EAAE,KAVL,EAWNC,WAAW,EAAC,KAXN,EAYNC,MAAM,EAAC,EAZD,EAaNC,QAAQ,EAAC,EAbH,EAcNC,QAAQ,EAAC,EAdH,EAAP,CAgBA,CAtBa,EAuBdC,MAAM,EAAE,kBAAW,kBAClB,KAAKb,KAAL,GAAac,GAAG,CAACC,cAAJ,CAAmB,OAAnB,CAAb,CACA,KAAKd,OAAL,GAAea,GAAG,CAACC,cAAJ,CAAmB,SAAnB,CAAf,CACA,KAAKhB,QAAL,GAAgBe,GAAG,CAACC,cAAJ,CAAmB,UAAnB,CAAhB,CACA,KAAKb,IAAL,GAAYY,GAAG,CAACC,cAAJ,CAAmB,MAAnB,CAAZ,CACA,KAAKZ,UAAL,GAAkBW,GAAG,CAACC,cAAJ,CAAmB,YAAnB,CAAlB,CACA,KAAKX,IAAL,GAAYU,GAAG,CAACC,cAAJ,CAAmB,MAAnB,CAAZ,CACA,KAAKV,KAAL,GAAaS,GAAG,CAACC,cAAJ,CAAmB,OAAnB,CAAb,CAPkB,CAQlB;AACAD,OAAG,CAACE,OAAJ,CAAY,EACXC,GAAG,EAAEC,sBAAa,aAAb,GAA6B,KAAKjB,OAD5B,EAEXkB,MAAM,EAAE,EACP,iBAAiB,YAAW,KAAKnB,KAD1B,EAFG,EAKXoB,MAAM,EAAE,KALG,EAMXC,OAAO,EAAE,iBAACC,GAAD,EAAS,CACjB,IAAIA,GAAG,CAACC,UAAJ,IAAgB,GAApB,EAAyB,CACxBC,OAAO,CAACC,GAAR,CAAY,UAAZ,EACA,IAAIH,GAAG,CAACxB,IAAJ,CAASA,IAAT,CAAc4B,MAAd,IAAsB,WAA1B,EAAuC,CACtC,KAAI,CAACpB,MAAL,GAAcgB,GAAG,CAACxB,IAAJ,CAASA,IAAT,CAAc6B,IAA5B,CADsC,CACH;AACnC,iBAAI,CAACpB,SAAL,GAAiB,KAAI,CAACD,MAAtB,CACA,CAHD,MAIK,CACJkB,OAAO,CAACC,GAAR,CAAY,WAAZ,EACA,CACD,CATD,MASM,CACLD,OAAO,CAACC,GAAR,CAAY,UAAZ,EACA,CACD,CAnBU,EAAZ,EAqBA,CArDa,EAsDdG,OAAO,EAAE,EACR;AACAC,aAFQ,qBAEEC,CAFF,EAEK,mBACZhB,GAAG,CAACiB,WAAJ,CAAgB,EACfC,KAAK,EAAE,CADQ,EAEfC,QAAQ,EAAE,YAFK,EAEU;AACzBZ,eAAO,EAAE,iBAACa,cAAD,EAAoB,CAC5B,MAAI,CAAC1B,SAAL,GAAiB,IAAjB,CAD4B,CAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAM,aAAG,CAACqB,QAAJ,CAAa,EACZC,YAAY,EAAEF,cAAc,CAACG,aAAf,CAA6B,CAA7B,CADF;AAEZhB,mBAAO,EAAE,iBAACiB,OAAD,EAAa;AACrB,oBAAI,CAAChC,MAAL,GAAcgC,OAAO,CAACC,aAAtB;AACA;AACA,aALW,EAAb;;AAOA,SAnCc,EAAhB;;;AAsCA,KAzCO;AA0CR;AACAC,UA3CQ,kBA2CDV,CA3CC,EA2CE;AACT,UAAIW,UAAU,GAAG,EAAjB;AACA,UAAI,KAAKjC,SAAT,EAAmB;AAClB;AACAM,WAAG,CAAC4B,oBAAJ,GAA2BC,QAA3B,CAAoC;AACnCC,kBAAQ,EAAE,KAAKtC,MADoB;AAEnCuC,kBAAQ,EAAE,QAFyB;AAGnCxB,iBAAO,EAAE,iBAACyB,SAAD,EAAe;AACvB,kBAAI,CAACxC,MAAL,GAAc,2BAA2BwC,SAAS,CAAChD,IAAnD;AACA;AACA;AACAgB,eAAG,CAACE,OAAJ,CAAY;AACXC,iBAAG,EAAEC,sBAAa,aAAb,GAA6B,MAAI,CAACjB,OAD5B;AAEXkB,oBAAM,EAAE;AACP,iCAAiB,YAAW,MAAI,CAACnB,KAD1B,EAFG;;AAKXF,kBAAI,EAAE;AACL6B,oBAAI,EAAE,MAAI,CAACrB,MADN,EALK;;AAQXc,oBAAM,EAAE,MARG;AASXC,qBAAO,EAAE,iBAAC0B,SAAD,EAAe;AACvBvB,uBAAO,CAACC,GAAR,CAAYsB,SAAZ;AACA,oBAAIA,SAAS,CAACxB,UAAV,IAAsB,GAA1B,EAA+B;AAC9BC,yBAAO,CAACC,GAAR,CAAY,MAAZ;AACA,wBAAI,CAAClB,SAAL,GAAiB,MAAI,CAACD,MAAtB;AACAQ,qBAAG,CAACkC,SAAJ,CAAc;AACbC,4BAAQ,EAAC,IADI;AAEbC,yBAAK,EAAC,MAFO,EAAd;;AAIA,iBAPD,MAOM;AACL1B,yBAAO,CAACC,GAAR,CAAY,MAAZ;AACA,wBAAI,CAACnB,MAAL,GAAc,MAAI,CAACC,SAAnB;AACAO,qBAAG,CAACkC,SAAJ,CAAc;AACbC,4BAAQ,EAAC,IADI;AAEbC,yBAAK,EAAC,MAFO,EAAd;;AAIA;AACD,eA1BU;AA2BXC,kBAAI,EAAE,cAACC,MAAD,EAAY;AACjB5B,uBAAO,CAACC,GAAR,CAAY2B,MAAZ;AACA,eA7BU,EAAZ;;AA+BA,WAtCkC,EAApC;;;AAyCA,OA3CD;AA4CK;AACJ5B,eAAO,CAACC,GAAR,CAAY,QAAZ;AACAX,WAAG,CAACkC,SAAJ,CAAc;AACbC,kBAAQ,EAAC,IADI;AAEbC,eAAK,EAAC,SAFO,EAAd;;AAIA;AACD,KAhGO;AAiGRG,aAjGQ,qBAiGEvB,CAjGF,EAiGK;AACZN,aAAO,CAACC,GAAR,CAAYK,CAAZ;AACA,WAAKpB,MAAL,GAAc,EAAd;AACA,WAAKC,QAAL,GAAgB,EAAhB;AACA,WAAKC,QAAL,GAAgB,EAAhB;AACA,WAAKH,WAAL,GAAmB,IAAnB;AACA,KAvGO;AAwGR6C,cAxGQ,wBAwGK;AACZ,WAAK7C,WAAL,GAAmB,KAAnB;AACA,KA1GO;AA2GR8C,SA3GQ,mBA2GA;AACP,WAAK7C,MAAL,GAAc,EAAd;AACA,WAAKC,QAAL,GAAgB,EAAhB;AACA,WAAKC,QAAL,GAAgB,EAAhB;AACA,KA/GO;AAgHR4C,aAhHQ,uBAgHI;AACX;AACA,UAAI,KAAK9C,MAAL,CAAY+C,MAAZ,GAAqB,CAArB,IAA0B,KAAK9C,QAAL,CAAc8C,MAAd,GAAuB,CAAjD,IAAsD,KAAK7C,QAAL,CAAc6C,MAAd,GAAuB,CAAjF,EAAoF;AAChF3C,WAAG,CAACkC,SAAJ,CAAc;AACVC,kBAAQ,EAAC,IADC;AAEVC,eAAK,EAAE,aAFG,EAAd;;AAIA;AACH,OAND,MAMO;AACN;AACA,YAAI,KAAKvC,QAAL,IAAiB,KAAKC,QAA1B,EAAoC;AACnCE,aAAG,CAACE,OAAJ,CAAY;AACXC,eAAG,EAAEC,sBAAa,QAAb,GAAwB,KAAKjB,OAA7B,GAAuC,WADjC;AAEXkB,kBAAM,EAAE;AACP,+BAAiB,YAAW,KAAKnB,KAD1B,EAFG;;AAKXF,gBAAI,EAAE;AACL4D,0BAAY,EAAC,KAAKhD,MADb;AAELiD,0BAAY,EAAC,KAAKhD,QAFb,EALK;;AASXS,kBAAM,EAAE,KATG;AAUXC,mBAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,kBAAIA,GAAG,CAACC,UAAJ,IAAkB,GAAtB,EAA2B;AAC1BT,mBAAG,CAACkC,SAAJ,CAAc;AACbC,0BAAQ,EAAC,IADI;AAEbC,uBAAK,EAAC,QAFO,EAAd;;AAIA1B,uBAAO,CAACC,GAAR,CAAY,YAAZ;AACA;AACA,oBAAI;AACHX,qBAAG,CAAC8C,gBAAJ;AACA,iBAFD,CAEE,OAAO9B,CAAP,EAAU;AACXN,yBAAO,CAACC,GAAR,CAAYK,CAAZ;AACA;AACDhB,mBAAG,CAAC+C,UAAJ,CAAe;AACd5C,qBAAG,EAAE,gBADS,EAAf;;AAGA,eAfD,MAeM;AACLH,mBAAG,CAACkC,SAAJ,CAAc;AACbC,0BAAQ,EAAC,IADI;AAEbC,uBAAK,EAAC,QAFO,EAAd;;AAIA1B,uBAAO,CAACC,GAAR,CAAY,YAAZ;AACA;AACD,aAjCU;AAkCX0B,gBAlCW,kBAkCJ;AACNrC,iBAAG,CAACkC,SAAJ,CAAc;AACbC,wBAAQ,EAAC,IADI;AAEbC,qBAAK,EAAC,QAFO,EAAd;;AAIA1B,qBAAO,CAACC,GAAR,CAAY,YAAZ;AACA,aAxCU,EAAZ;;AA0CA,SA3CD,MA2CM;AACLX,aAAG,CAACkC,SAAJ,CAAc;AACbC,oBAAQ,EAAC,IADI;AAEbC,iBAAK,EAAC,aAFO,EAAd;;AAIA;AACD;AACD,KA5KO,EAtDK,E;;;;;;;;;;;;ACpEf,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmF;AAC3B;AACL;AACa;;;AAGhE;AACuI;AACvI,gBAAgB,oJAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAA+f,CAAgB,miBAAG,EAAC,C;;;;;;;;;;;;ACAnhB;AAAA;AAAA;AAAA;AAA0vB,CAAgB,wwBAAG,EAAC,C;;;;;;;;;;;;ACA9wB;AAAA;AAAA;AAAA;AAAA;AAAA","file":"pages/info/info.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport webSiteUrl from '../../common/webSiteUrl.js'\nimport uniPopup from '@/components/uni-popup/uni-popup.vue'\nimport mInput from '../../components/m-input.vue'\n\nexport default {\n\tcomponents: {\n\t\tuniPopup,\n\t\tmInput\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuserName: '',\n\t\t\ttoken:'',\n\t\t\tuser_id:0,\n\t\t\tname:'Tony',\n\t\t\tdepartment:1,\n\t\t\trole:'user',\n\t\t\thours:12,\n\t\t\timgSrc:'',\n\t\t\timgSrcOld:'',\n\t\t\tisChanged: false,\n\t\t\tisShowPopup:false,\n\t\t\toldpwd:'',\n\t\t\tnewpwd_1:'',\n\t\t\tnewpwd_2:'',\n\t\t}\n\t},\n\tonLoad: function() {\n\t\tthis.token = uni.getStorageSync('token');\n\t\tthis.user_id = uni.getStorageSync('user_id');\n\t\tthis.userName = uni.getStorageSync('userName');\n\t\tthis.name = uni.getStorageSync('name');\n\t\tthis.department = uni.getStorageSync('department');\n\t\tthis.role = uni.getStorageSync('role');\n\t\tthis.hours = uni.getStorageSync('hours');\n\t\t// 向服务器请求获取用户人脸信息\n\t\tuni.request({\n\t\t\turl: webSiteUrl + '/face/user/' + this.user_id,\n\t\t\theader: {\n\t\t\t\t'Authorization': 'Bearer '+ this.token,\n\t\t\t},\n\t\t\tmethod: 'GET',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.statusCode==200) {\n\t\t\t\t\tconsole.log(\"获取用户图片成功\");\n\t\t\t\t\tif (res.data.data.status==\"available\") {\n\t\t\t\t\t\tthis.imgSrc = res.data.data.info;  // 服务器给的图片base64码，可以在image标签中直接解析\n\t\t\t\t\t\tthis.imgSrcOld = this.imgSrc;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconsole.log(\"用户图片暂时不可用\")\n\t\t\t\t\t}\n\t\t\t\t} else{\n\t\t\t\t\tconsole.log(\"获取用户图片失败\");\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t},\n\tmethods: {\n\t\t// 选择照片，可从相册或相机，一次只允许选一张\n\t\tchooseImg(e) {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: 'compressed',  // 只能选择压缩图片，如果这个压缩还不够给力，则使用更麻烦的方法：http://www.heibaiketang.com/blog/show/97.html\n\t\t\t\tsuccess: (chooseImageRes) => {\n\t\t\t\t\tthis.isChanged = true;\n\t\t\t\t\t// 通过画布得到等比例压缩后的图片的base64码\n\t\t\t\t\t// 先获得图像长宽\n\t\t\t\t\t// uni.getImageInfo({\n\t\t\t\t\t// \tsrc:chooseImageRes.tempFilePaths[0],\n\t\t\t\t\t// \tsuccess: (image) => {\n\t\t\t\t\t// \t\tvar max_height = 600;\n\t\t\t\t\t// \t\tvar max_width = 800;\n\t\t\t\t\t// \t\tvar image_width_ori = image.width;\n\t\t\t\t\t// \t\tvar image_height_ori = image.height;\n\t\t\t\t\t// \t\tconsole.log(image_width_ori);\n\t\t\t\t\t// \t\tconsole.log(image_height_ori);\n\t\t\t\t\t// \t\tw_h_rate = image_width_ori/image_height_ori;\n\t\t\t\t\t// \t\t// 等比压缩，判断宽度或高度优先\n\t\t\t\t\t// \t\tconst ctx = uni.createCanvasContext('myCanvas');\n\t\t\t\t\t// \t\tif (w_h_rate>(max_height/max_width)) {\n\t\t\t\t\t// \t\t\tctx.drawImage(chooseImageRes.tempFilePaths[0], 0, 0, max_width, max_width/w_h_rate);\n\t\t\t\t\t// \t\t} else{\n\t\t\t\t\t// \t\t\tctx.drawImage(chooseImageRes.tempFilePaths[0], 0, 0, max_height*w_h_rate, max_height);\n\t\t\t\t\t// \t\t}\n\t\t\t\t\t// \t\tctx.draw();\n\t\t\t\t\t// \t}\n\t\t\t\t\t// })\n\t\t\t\t\t// 将图片存到本地\n\t\t\t\t\tuni.saveFile({\n\t\t\t\t\t\ttempFilePath: chooseImageRes.tempFilePaths[0],\n\t\t\t\t\t\tsuccess: (saveRes) => {\n\t\t\t\t\t\t\tthis.imgSrc = saveRes.savedFilePath;\n\t\t\t\t\t\t\t// console.log(this.imgSrc);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t},\n\t\t// 提交用户的图片修改\n\t\tsubmit(e) {\n\t\t\tvar img_base64 = '';\n\t\t\tif (this.isChanged){\n\t\t\t\t// 先将图片base64编码\n\t\t\t\tuni.getFileSystemManager().readFile({\n\t\t\t\t\tfilePath: this.imgSrc,\n\t\t\t\t\tencoding: 'base64',\n\t\t\t\t\tsuccess: (encodeRes) => {\n\t\t\t\t\t\tthis.imgSrc = 'data:image/png;base64,' + encodeRes.data;\n\t\t\t\t\t\t// console.log(this.imgSrc);\n\t\t\t\t\t\t// 再将图片的base64上传到服务器\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: webSiteUrl + '/face/user/' + this.user_id,\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'Authorization': 'Bearer '+ this.token,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tinfo: this.imgSrc\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tsuccess: (uploadRes) => {\n\t\t\t\t\t\t\t\tconsole.log(uploadRes);\n\t\t\t\t\t\t\t\tif (uploadRes.statusCode==201) {\n\t\t\t\t\t\t\t\t\tconsole.log(\"上传成功\");\n\t\t\t\t\t\t\t\t\tthis.imgSrcOld = this.imgSrc;\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\t\t\t\t\ttitle:'上传成功'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\t\tconsole.log(\"上传失败\");\n\t\t\t\t\t\t\t\t\tthis.imgSrc = this.imgSrcOld;\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\t\t\t\t\ttitle:'上传失败'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (errmsg) => {\n\t\t\t\t\t\t\t\tconsole.log(errmsg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconsole.log(\"还未上传图片\")\n\t\t\t\tuni.showToast({\n\t\t\t\t\tduration:2000,\n\t\t\t\t\ttitle:'您还未选择照片'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tshowPanel(e) {\n\t\t\tconsole.log(e);\n\t\t\tthis.oldpwd = '';\n\t\t\tthis.newpwd_1 = '';\n\t\t\tthis.newpwd_2 = '';\n\t\t\tthis.isShowPopup = true;\n\t\t},\n\t\tclosePanel() {\n\t\t\tthis.isShowPopup = false;\n\t\t},\n\t\tclear() {\n\t\t\tthis.oldpwd = '';\n\t\t\tthis.newpwd_1 = '';\n\t\t\tthis.newpwd_2 = '';\n\t\t},\n\t\tchangePwd() {\n\t\t\t// 判断密码格式是否正确\n\t\t\tif (this.oldpwd.length < 4 || this.newpwd_1.length < 4 || this.newpwd_2.length < 4) {\n\t\t\t    uni.showToast({\n\t\t\t        duration:2000,\n\t\t\t        title: '密码最短为 4 个字符'\n\t\t\t    });\n\t\t\t    return;\n\t\t\t} else {\n\t\t\t\t// 判断两次新密码是否相同\n\t\t\t\tif (this.newpwd_1 == this.newpwd_2) {\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: webSiteUrl + '/user/' + this.user_id + '/password',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'Authorization': 'Bearer '+ this.token,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\told_password:this.oldpwd,\n\t\t\t\t\t\t\tnew_password:this.newpwd_1\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\t\t\t\ttitle:'修改密码成功'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tconsole.log('修改密码请求提交成功');\n\t\t\t\t\t\t\t\t// 修改密码成功，则清除缓存，重新登陆\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tuni.clearStorageSync();\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\turl: '../login/login'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\t\t\t\ttitle:'修改密码失败'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tconsole.log('修改密码请求提交失败');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\t\t\ttitle:'修改密码失败'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconsole.log('修改密码请求提交失败');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\ttitle:'两次输入的新密码不一致'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=489c4f06&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('489c4f06', component.options)\n    } else {\n      api.reload('489c4f06', component.options)\n    }\n    module.hot.accept(\"./info.vue?vue&type=template&id=489c4f06&\", function () {\n      api.rerender('489c4f06', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/HBuilderX/attsys-miniprogram/pages/info/info.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./info.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./info.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./info.vue?vue&type=template&id=489c4f06&\""],"sourceRoot":""}