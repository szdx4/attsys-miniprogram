{"version":3,"sources":["webpack:////Users/txfs1926/Documents/HBuilderProjects/attsys-miniprogram/pages/message/message.vue?638f","webpack:////Users/txfs1926/Documents/HBuilderProjects/attsys-miniprogram/pages/message/message.vue?bb18","webpack:////Users/txfs1926/Documents/HBuilderProjects/attsys-miniprogram/pages/message/message.vue?a2d8","webpack:////Users/txfs1926/Documents/HBuilderProjects/attsys-miniprogram/pages/message/message.vue?2d54","webpack:////Users/txfs1926/Documents/HBuilderProjects/attsys-miniprogram/pages/message/message.vue","webpack:////Users/txfs1926/Documents/HBuilderProjects/attsys-miniprogram/pages/message/message.vue?260d","webpack:////Users/txfs1926/Documents/HBuilderProjects/attsys-miniprogram/pages/message/message.vue?660b"],"names":["queryUnreadMessage","that","pages","message_list","i","uni","request","url","webSiteUrl","user_id","header","token","method","success","res","console","log","statusCode","data","total","Math","ceil","per_page","push","apply","showToast","title","icon","duration","components","uniPopup","userName","isShowPopup","message_content","message_title","message_from","onLoad","getStorageSync","onPullDownRefresh","setTimeout","stopPullDownRefresh","methods","showMessage","e","messageId","currentTarget","dataset","messageid","id","from","name","content","splice","length","setStorageSync","fail","查询失败","closeMessage","clearAll","showModal","choose_res","confirm","goMessageRead","navigateTo"],"mappings":"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","file":"pages/message/message.js","sourcesContent":["import { render, staticRenderFns } from \"./message.vue?vue&type=template&id=5e39f182&\"\nimport script from \"./message.vue?vue&type=script&lang=js&\"\nexport * from \"./message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5e39f182', component.options)\n    } else {\n      api.reload('5e39f182', component.options)\n    }\n    module.hot.accept(\"./message.vue?vue&type=template&id=5e39f182&\", function () {\n      api.rerender('5e39f182', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/txfs1926/Documents/HBuilderProjects/attsys-miniprogram/pages/message/message.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=template&id=5e39f182&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport uniPopup from '@/components/uni-popup/uni-popup.vue'\n\timport webSiteUrl from '../../common/webSiteUrl.js'\n\t\n\t// 向服务器查询unread消息。用total除以per_page，向下取整，得出需要查询的总页数\n\tfunction queryUnreadMessage(that) {\n\t\tvar pages = 1;\n\t\tthat.message_list = [];\n\t\tfor (var i = 1; i <= pages; i++) {\n\t\t\tuni.request({\n\t\t\t\turl: webSiteUrl + '/message?to_user_id=' + that.user_id + '&status=unread&page=' + i,\n\t\t\t\theader:{\n\t\t\t\t\t'Authorization': 'Bearer '+ that.token,\n\t\t\t\t},\n\t\t\t\tmethod: 'GET',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tif (res.statusCode==200) {\n\t\t\t\t\t\tif (res.data.total != 0) {\n\t\t\t\t\t\t\tpages = Math.ceil(res.data.total / res.data.per_page);\n\t\t\t\t\t\t\t// 将得到的数组加入message_list中\n\t\t\t\t\t\t\tthat.message_list.push.apply(that.message_list,res.data.data);\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:'无未读信息',\n\t\t\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\t\t\tduration:2000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconsole.log(\"无未读信息\")\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (res.statusCode==204) {\n\t\t\t\t\t\tconsole.log(\"无系统通知信息\")\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"系统通知信息获取失败\")\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n    export default {\n\t\tcomponents: {\n\t\t\tuniPopup\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuserName: '',\n\t\t\t\ttoken:'',\n\t\t\t\tuser_id:0,\n\t\t\t\tisShowPopup:false,\n\t\t\t\tmessage_content:'',\n\t\t\t\tmessage_title:'',\n\t\t\t\tmessage_from:'',\n\t\t\t\tmessage_list: [\n\t\t\t\t\t// {\n\t\t\t\t\t// \t\"id\": 1,\n\t\t\t\t\t// \t\"from\": {\n\t\t\t\t\t// \t\t\"id\": 1,\n\t\t\t\t\t// \t\t\"name\": \"test\",\n\t\t\t\t\t// \t},\n\t\t\t\t\t// \t\"to\": {\n\t\t\t\t\t// \t\t\"id\": 2,\n\t\t\t\t\t// \t\t\"name\": \"test2\",\n\t\t\t\t\t// \t},\n\t\t\t\t\t// \t\"title\": \"test title\",\n\t\t\t\t\t// \t\"status\": \"unread\"\n\t\t\t\t\t// }\n\t\t\t\t],\n\t\t\t}\n\t\t},\n        onLoad: function(){\n\t\t\t// 从存储中获取用户登陆信息\n\t\t\tthis.token = uni.getStorageSync('token');\n\t\t\tthis.userName = uni.getStorageSync('userName');\n\t\t\tthis.user_id = uni.getStorageSync('user_id');\n\t\t\tvar that = this;\n\t\t\tqueryUnreadMessage(that);\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tconsole.log('refresh');\n\t\t\tvar that = this;\n\t\t\tqueryUnreadMessage(that);\n\t\t\tsetTimeout(function () {\n\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t}, 1000);\n\t\t},\n\t\tmethods:{\n\t\t\tshowMessage(e) {\n\t\t\t\tconsole.log(e)\n\t\t\t\tvar messageId = e.currentTarget.dataset.messageid;\n\t\t\t\tvar id = e.currentTarget.dataset.id;\n\t\t\t\tuni.request({\n\t\t\t\t\turl: webSiteUrl + '/message/' + messageId,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'Authorization': 'Bearer '+ this.token,\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthis.message_title = res.data.data.title;\n\t\t\t\t\t\tthis.message_from = res.data.data.from.name;\n\t\t\t\t\t\tthis.message_content = res.data.data.content;\n\t\t\t\t\t\t// 将该消息从消息列表中删除\n\t\t\t\t\t\tthis.message_list.splice(id,1);\n\t\t\t\t\t\t// 当消息列表为空时，将定时器的控制变量设置为true\n\t\t\t\t\t\tif (this.message_list.length==0) {\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tuni.setStorageSync('start_query_unread_message',true);\n\t\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\t\tconsole.log(\"存储出现问题\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail() {\n\t\t\t\t\t\tconsole.log(查询失败);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.isShowPopup = true;\n\t\t\t},\n\t\t\tcloseMessage() {\n\t\t\t\tthis.isShowPopup = false;\n\t\t\t},\n\t\t\tclearAll() {\n\t\t\t\tif (this.message_list.length != 0) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: '是否确定清除',\n\t\t\t\t\t\tsuccess: (choose_res) => {\n\t\t\t\t\t\t\tif (choose_res.confirm) {\n\t\t\t\t\t\t\t\tconsole.log('用户点击确定');\n\t\t\t\t\t\t\t\t// 将所有消息通过api接口标记为read\n\t\t\t\t\t\t\t\tfor (var i = 0; i < this.message_list.length; i++) {\n\t\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\t\turl: webSiteUrl + '/message/' + this.message_list[i].id,\n\t\t\t\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t\t\t'Authorization': 'Bearer '+ this.token,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// 将消息列表中清空\n\t\t\t\t\t\t\t\tthis.message_list = [];\n\t\t\t\t\t\t\t\t// 将定时器的控制变量设置为 true\n\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('start_query_unread_message',true);\n\t\t\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\t\t\tconsole.log(\"存储出现问题\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '清除成功',\n\t\t\t\t\t\t\t\t\tduration:2000\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\tduration:2000,\n\t\t\t\t\t\ttitle:'消息已为空'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tgoMessageRead() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: 'message_read/message_read'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n    }\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}